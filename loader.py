#Module Import
import getpass
import os
import sys
from data.banner import Banner
from data.modules import Modules
from commands import help
from errors import errors
from succesions.main import Successions
from colorama import Fore
from datetime import datetime
#Module exploit Imports

time_x = datetime.now()
h_x = time_x.hour
m_x = time_x.minute
s_x = time_x.second

RED = Fore.RED
RESET = Fore.RESET

cmds = [
    "1",
    "banner",
    "help",
    "i1",
    "clear"
]

class startFramework:

    def banner():
        Modules.clear()
        Banner.ban()
        help.Commands.creator()

    #--------------TESTINGS---------------
    #-----ERRORS-----
    #errors.Errors.login_Failed()

    #-----HELP FUNCTIONS-----
    #Run Module function via commands/help.py ig_exploits()
    #help.Commands.ig_exploits() #Prints Help Panel For the Instagram Exploits
    #help.Commands.tos() Terms Of Services
    #help.Commands.rules()

    def nameExp_Loader():
        from exploits.NameExploit import main

    @staticmethod
    def userinput():
        try:
            dirpath = os.getcwd()
            foldername = os.path.basename(dirpath)
            x = input(f"[{h_x}:{m_x}:{s_x}] {RED} ➜  {RESET}")

            while x not in cmds:
                errors.Errors.command_doesnt_exist()
                x = input(f"[{h_x}:{m_x}:{s_x}] {RED} ➜  {RESET}")

        except (KeyboardInterrupt, SystemExit):
            print(f"{RED}[{RESET}DEBUG{RED}]{RESET}{RED} Exiting {RESET}The Framework...\n")
            sys.exit()
            raise

        if x.lower() == '1':
            help.Commands.ig_exploits()
            startFramework.userinput()

        if x.lower() == 'i1':
            startFramework.nameExp_Loader()

        if x.lower() == 'clear':
            os.system('cls')
            startFramework.userinput()

        if x.lower() == 'banner':
            startFramework.banner()
            startFramework.userinput()

        if x.lower() == 'help':
            help.Commands.help()
            startFramework.userinput()

startFramework.banner()
startFramework.userinput()