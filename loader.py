#Module Import
import getpass, os, sys, time
from data.banner import Banner
from data.modules import Modules
from commands import help
from allerrors import errors
from exploits.NameExploit.main import changeName
from succesions.main import Successions
from colorama import Fore
from datetime import datetime
#Module exploit Imports

time_x = datetime.now()
h_x = time_x.hour
m_x = time_x.minute
s_x = time_x.second

RED = Fore.RED
RESET = Fore.RESET

cmds = [
    "1",
    "2",
    "3",
    "4",
    "5",
    "6",
    "7",
    "i1",
    "i2",
    "i3",
    "i4",
    "i5",
    "m1",
    "m2",
    "m3",
    "m4",
    "m5",
    "c1",
    "c2",
    "c3",
    "c4",
    "c5",
    "banner",
    "help",
    "clear"
]

class startFramework:

    def userinput():
        try:
            dirpath = os.getcwd()
            foldername = os.path.basename(dirpath)
            x = input(f"[{h_x}:{m_x}:{s_x}] {RED} ➜  {RESET}")

            while x not in cmds:
                errors.Errors.command_doesnt_exist()
                x = input(f"[{h_x}:{m_x}:{s_x}] {RED} ➜  {RESET}")

        except (KeyboardInterrupt, SystemExit):
            print(f"{RED}[{RESET}DEBUG{RED}]{RESET}{RED} Exiting {RESET}The Framework...\n")
            sys.exit()
            raise

        if x.lower() == '1':
            help.Commands.ig_exploits()
            startFramework.userinput()

        if x.lower() == '2':
            help.Commands.helpmodules()
            startFramework.userinput()

        if x.lower() == '3':
            help.Commands.helpothercommands()
            startFramework.userinput()

        if x.lower() == '4':
            Modules.clear()
            Banner.ban()
            startFramework.userinput()

        if x.lower() == '5':
            help.Commands.versionn()
            startFramework.userinput()

        if x.lower() == '6':
            help.Commands.creator()
            startFramework.userinput()

        if x.lower() == '7':
            help.Commands.tos()
            startFramework.userinput()

        if x.lower() == 'i1':
            from exploits.ftDaysBypass import main
            print('''
    ┌─────────────────────────────────────────────────────────────┐
    │               Instagram Line Bypass Exploit                 │
    └─────────────────────────────────────────────────────────────┘
    │    Bypass the line limit on the name value on instagram     │
    └─────────────────────────────────────────────────────────────┘

        ''')
            name = '''
.
.
.
.
.
.
.
.
.
.
.
.
.
'''
            main.changeName(input(f"[ USERNAME ] {RED} ➜  {RESET}"), input(f"[ PASSWORD ] {RED} ➜  {RESET}"), name)
            startFramework.userinput()

        if x.lower() == 'i2':
            from exploits.ftDaysBypass import main
            print('''
    ┌─────────────────────────────────────────────────────────────┐
    │              Instagram 14 Days Bypass Exploit               │
    └─────────────────────────────────────────────────────────────┘
    │    Bypass the line limit on the name value on instagram     │
    └─────────────────────────────────────────────────────────────┘

        ''')
            main.changeName(input(f"[ USERNAME ] {RED} ➜  {RESET}"), input(f"[ PASSWORD ] {RED} ➜  {RESET}"), input(f"[   NAME   ] {RED} ➜  {RESET}"))

        if x.lower() == 'i3':
            startFramework.userinput()

        if x.lower() == 'i4':
            startFramework.userinput()

        if x.lower() == 'i5':
            startFramework.userinput()

        if x.lower() == 'm1':
            startFramework.userinput()

        if x.lower() == 'm2':
            startFramework.userinput()

        if x.lower() == 'm3':
            startFramework.userinput()

        if x.lower() == 'm4':
            startFramework.userinput()

        if x.lower() == 'm5':
            startFramework.userinput()

        if x.lower() == 'c1':
            os.system('cls')
            startFramework.userinput()

        if x.lower() == 'c2':
            print(f"{RED}[{RESET}DEBUG{RED}]{RESET}{RED} Exiting {RESET}The Framework...")
            time.sleep(3)
            sys.exit()

        if x.lower() == 'c3':
            os.system('start https://instagram.com/')
            startFramework.userinput()
            #open terminal u niglet

        if x.lower() == 'c4':
            startFramework.userinput()

        if x.lower() == 'c5':
            startFramework.userinput()

        if x.lower() == 'clear':
            os.system('cls')
            startFramework.userinput()

        if x.lower() == 'help':
            help.Commands.help()
            startFramework.userinput()

    Modules.clear()
    Banner.ban()
