#Module Import
import getpass
import os
import sys
import time
from data.banner import Banner
from data.modules import Modules
from commands import help
from allerrors import errors
from exploits.NameExploit.main import changeName
from succesions.main import Successions
from colorama import Fore
from datetime import datetime
from instamodules.downloadpfp.main import downloadPFP
from instamodules.artiimagegen.main import artiImage
from other.clean import cleanCommand
from other.exit import exitFramework
from other.igo import openInstagram
from other.storeaccounts import storeAccounts
from instamodules.unban.main import UnbanBot
from instamodules.userid.main import userID
from instamodules.downloadpost.main import DownloadPost

time_x = datetime.now()
h_x = time_x.hour
m_x = time_x.minute
s_x = time_x.second

RED = Fore.RED
RESET = Fore.RESET

cmds = [
    "1",
    "2",
    "3",
    "4",
    "5",
    "6",
    "7",
    "i1",
    "i2",
    "i8",
    "m1",
    "m2",
    "m4",
    "m5",
    "m6",
    "m7",
    "c1",
    "c2",
    "c3",
    "c4",
    "banner",
    "help",
    "clear"
]


class startFramework:
    def userinput():
        try:
            dirpath = os.getcwd()
            foldername = os.path.basename(dirpath)
            use = "ief "
            x = input("\u0332".join(use) + "> ")

            while x not in cmds:
                errors.Errors.command_doesnt_exist()
                use = "ief "
                x = input("\u0332".join(use) + "> ")

        except (KeyboardInterrupt, SystemExit):
            print(
                f"Exiting The Framework...\n")
            sys.exit()
            raise

        if x.lower() == '1':
            help.Commands.ig_exploits()
            startFramework.userinput()

        if x.lower() == '2':
            help.Commands.helpmodules()
            startFramework.userinput()

        if x.lower() == '3':
            help.Commands.helpothercommands()
            startFramework.userinput()

        if x.lower() == '4':
            Modules.clear()
            Banner.ban()
            startFramework.userinput()

        if x.lower() == '5':
            help.Commands.versionn()
            startFramework.userinput()

        if x.lower() == '6':
            help.Commands.creator()
            startFramework.userinput()

        if x.lower() == '7':
            help.Commands.tos()
            startFramework.userinput()

        if x.lower() == 'i1':
            from exploits.ftDaysBypass import main
            print('\nName Line Bypass')
            print('================\n')
            name = '''
.
.
.
.
.
.
.
.
.
.
.
.
.
'''
            main.changeName(input(f"[ USERNAME ]  ➜  "), input(
                f"[ PASSWORD ]  ➜  "), name)
            startFramework.userinput()

        if x.lower() == 'i2':
            from exploits.ftDaysBypass import main
            print('\n14 Days Name Bypass')
            print('===================\n')
            main.changeName(input(f"[ USERNAME ]  ➜  "), input(f"[ PASSWORD ]  ➜  "), input(f"[   NAME   ]  ➜  "))

        if x.lower() == 'i3':
            startFramework.userinput()

        if x.lower() == 'i4':
            startFramework.userinput()

        if x.lower() == 'i5':
            startFramework.userinput()

        if x.lower() == 'i6':
            startFramework.userinput()

        if x.lower() == 'i7':
            startFramework.userinput()

        if x.lower() == 'i8':
            from exploits.urlexploit import main
            print('\nInvalid Website Bypass')
            print('======================\n')
            main.urlExploit(input(f"[ USERNAME ]  ➜  "), input(f"[ PASSWORD ]  ➜  "), input(f"[   CURL   ]  ➜  "))
            startFramework.userinput()
        if x.lower() == 'm1':
            downloadPFP.main()
            startFramework.userinput()

        if x.lower() == 'm2':
            DownloadPost.main()
            startFramework.userinput()

        if x.lower() == 'm3':

            startFramework.userinput()

        if x.lower() == 'm4':
            userID.main()
            startFramework.userinput()

        if x.lower() == 'm5':
            artiImage.main()
            startFramework.userinput()

        if x.lower() == 'm6':
            UnbanBot.main()
            startFramework.userinput()

        if x.lower() == 'm7':
            osintUser.main()
            startFramework.userinput()

        if x.lower() == 'c1':
            cleanCommand.clear()
            startFramework.userinput()

        if x.lower() == 'c2':
            exitFramework.quit()

        if x.lower() == 'c3':
            openInstagram.open_ig()
            startFramework.userinput()

        if x.lower() == 'c4':
            storeAccounts.storethem()
            startFramework.userinput()

        if x.lower() == 'c4':
            startFramework.userinput()

        if x.lower() == 'clear':
            os.system('cls')
            startFramework.userinput()

        if x.lower() == 'help':
            help.Commands.help()
            startFramework.userinput()

        if x.lower() == 'banner':
            Modules.clear()
            Banner.ban()
            startFramework.userinput()

    Modules.clear()
    Banner.ban()
